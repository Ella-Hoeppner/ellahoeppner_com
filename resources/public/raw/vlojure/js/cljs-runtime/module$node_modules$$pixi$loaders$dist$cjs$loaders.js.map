{
"version":3,
"file":"module$node_modules$$pixi$loaders$dist$cjs$loaders.js",
"lineCount":56,
"mappings":"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",
"sources":["node_modules/@pixi/loaders/dist/cjs/loaders.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$pixi$loaders$dist$cjs$loaders\"] = function(global,require,module,exports) {\n/*!\n * @pixi/loaders - v6.1.1\n * Compiled Fri, 06 Aug 2021 03:30:25 UTC\n *\n * @pixi/loaders is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar core = require('@pixi/core');\n\n/* jshint -W097 */\n/**\n * @memberof PIXI\n */\nvar SignalBinding = /** @class */ (function () {\n    /**\n     * SignalBinding constructor.\n     * @constructs SignalBinding\n     * @param {Function} fn - Event handler to be called.\n     * @param {Boolean} [once=false] - Should this listener be removed after dispatch\n     * @param {object} [thisArg] - The context of the callback function.\n     * @api private\n     */\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    function SignalBinding(fn, once, thisArg) {\n        if (once === void 0) { once = false; }\n        this._fn = fn;\n        this._once = once;\n        this._thisArg = thisArg;\n        this._next = this._prev = this._owner = null;\n    }\n    SignalBinding.prototype.detach = function () {\n        if (this._owner === null)\n            { return false; }\n        this._owner.detach(this);\n        return true;\n    };\n    return SignalBinding;\n}());\n/**\n * @private\n */\nfunction _addSignalBinding(self, node) {\n    if (!self._head) {\n        self._head = node;\n        self._tail = node;\n    }\n    else {\n        self._tail._next = node;\n        node._prev = self._tail;\n        self._tail = node;\n    }\n    node._owner = self;\n    return node;\n}\n/**\n * @memberof PIXI\n */\nvar Signal = /** @class */ (function () {\n    /**\n     * MiniSignal constructor.\n     * @example\n     * let mySignal = new Signal();\n     * let binding = mySignal.add(onSignal);\n     * mySignal.dispatch('foo', 'bar');\n     * mySignal.detach(binding);\n     */\n    function Signal() {\n        this._head = this._tail = undefined;\n    }\n    /**\n     * Return an array of attached SignalBinding.\n     *\n     * @param {Boolean} [exists=false] - We only need to know if there are handlers.\n     * @returns {PIXI.SignalBinding[]|Boolean} Array of attached SignalBinding or Boolean if called with exists = true\n     * @api public\n     */\n    Signal.prototype.handlers = function (exists) {\n        if (exists === void 0) { exists = false; }\n        var node = this._head;\n        if (exists)\n            { return !!node; }\n        var ee = [];\n        while (node) {\n            ee.push(node);\n            node = node._next;\n        }\n        return ee;\n    };\n    /**\n     * Return true if node is a SignalBinding attached to this MiniSignal\n     *\n     * @param {PIXI.SignalBinding} node - Node to check.\n     * @returns {Boolean} True if node is attache to mini-signal\n     */\n    Signal.prototype.has = function (node) {\n        if (!(node instanceof SignalBinding)) {\n            throw new Error('MiniSignal#has(): First arg must be a SignalBinding object.');\n        }\n        return node._owner === this;\n    };\n    /**\n     * Dispaches a signal to all registered listeners.\n     *\n     * @returns {Boolean} Indication if we've emitted an event.\n     */\n    Signal.prototype.dispatch = function () {\n        var arguments$1 = arguments;\n\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments$1[_i];\n        }\n        var node = this._head;\n        if (!node)\n            { return false; }\n        while (node) {\n            if (node._once)\n                { this.detach(node); }\n            node._fn.apply(node._thisArg, args);\n            node = node._next;\n        }\n        return true;\n    };\n    /**\n     * Register a new listener.\n     *\n     * @param {Function} fn - Callback function.\n     * @param {object} [thisArg] - The context of the callback function.\n     * @returns {PIXI.SignalBinding} The SignalBinding node that was added.\n     */\n    Signal.prototype.add = function (fn, thisArg) {\n        if (thisArg === void 0) { thisArg = null; }\n        if (typeof fn !== 'function') {\n            throw new Error('MiniSignal#add(): First arg must be a Function.');\n        }\n        return _addSignalBinding(this, new SignalBinding(fn, false, thisArg));\n    };\n    /**\n     * Register a new listener that will be executed only once.\n     *\n     * @param {Function} fn - Callback function.\n     * @param {object} [thisArg] - The context of the callback function.\n     * @returns {PIXI.SignalBinding} The SignalBinding node that was added.\n     */\n    Signal.prototype.once = function (fn, thisArg) {\n        if (thisArg === void 0) { thisArg = null; }\n        if (typeof fn !== 'function') {\n            throw new Error('MiniSignal#once(): First arg must be a Function.');\n        }\n        return _addSignalBinding(this, new SignalBinding(fn, true, thisArg));\n    };\n    /**\n     * Remove binding object.\n     *\n     * @param {PIXI.SignalBinding} node - The binding node that will be removed.\n     * @returns {Signal} The instance on which this method was called.\n     * @api public */\n    Signal.prototype.detach = function (node) {\n        if (!(node instanceof SignalBinding)) {\n            throw new Error('MiniSignal#detach(): First arg must be a SignalBinding object.');\n        }\n        if (node._owner !== this)\n            { return this; } // todo: or error?\n        if (node._prev)\n            { node._prev._next = node._next; }\n        if (node._next)\n            { node._next._prev = node._prev; }\n        if (node === this._head) { // first node\n            this._head = node._next;\n            if (node._next === null) {\n                this._tail = null;\n            }\n        }\n        else if (node === this._tail) { // last node\n            this._tail = node._prev;\n            this._tail._next = null;\n        }\n        node._owner = null;\n        return this;\n    };\n    /**\n     * Detach all listeners.\n     *\n     * @returns {Signal} The instance on which this method was called.\n     */\n    Signal.prototype.detachAll = function () {\n        var node = this._head;\n        if (!node)\n            { return this; }\n        this._head = this._tail = null;\n        while (node) {\n            node._owner = null;\n            node = node._next;\n        }\n        return this;\n    };\n    return Signal;\n}());\n\n/**\n * function from npm package `parseUri`, converted to TS to avoid leftpad incident\n * @param {string} str\n * @param [opts] - options\n * @param {boolean} [opts.strictMode] - type of parser\n */\nfunction parseUri(str, opts) {\n    opts = opts || {};\n    var o = {\n        // eslint-disable-next-line max-len\n        key: ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'],\n        q: {\n            name: 'queryKey',\n            parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n        },\n        parser: {\n            // eslint-disable-next-line max-len\n            strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n            // eslint-disable-next-line max-len\n            loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n        }\n    };\n    var m = o.parser[opts.strictMode ? 'strict' : 'loose'].exec(str);\n    var uri = {};\n    var i = 14;\n    while (i--)\n        { uri[o.key[i]] = m[i] || ''; }\n    uri[o.q.name] = {};\n    uri[o.key[12]].replace(o.q.parser, function (_t0, t1, t2) {\n        if (t1)\n            { uri[o.q.name][t1] = t2; }\n    });\n    return uri;\n}\n\n// tests if CORS is supported in XHR, if not we need to use XDR\nvar useXdr = !!(self.XDomainRequest && !('withCredentials' in (new XMLHttpRequest())));\nvar tempAnchor = null;\n// some status constants\nvar STATUS_NONE = 0;\nvar STATUS_OK = 200;\nvar STATUS_EMPTY = 204;\nvar STATUS_IE_BUG_EMPTY = 1223;\nvar STATUS_TYPE_OK = 2;\n// noop\nfunction _noop() { }\n/**\n * Quick helper to set a value on one of the extension maps. Ensures there is no\n * dot at the start of the extension.\n *\n * @ignore\n * @param map - The map to set on.\n * @param extname - The extension (or key) to set.\n * @param val - The value to set.\n */\nfunction setExtMap(map, extname, val) {\n    if (extname && extname.indexOf('.') === 0) {\n        extname = extname.substring(1);\n    }\n    if (!extname) {\n        return;\n    }\n    map[extname] = val;\n}\n/**\n * Quick helper to get string xhr type.\n *\n * @ignore\n * @param xhr - The request to check.\n * @return The type.\n */\nfunction reqType(xhr) {\n    return xhr.toString().replace('object ', '');\n}\n/**\n * Manages the state and loading of a resource and all child resources.\n *\n * Can be extended in `GlobalMixins.LoaderResource`.\n *\n * @memberof PIXI\n */\nexports.LoaderResource = /** @class */ (function () {\n    /**\n     * @param {string} name - The name of the resource to load.\n     * @param {string|string[]} url - The url for this resource, for audio/video loads you can pass\n     *      an array of sources.\n     * @param {object} [options] - The options for the load.\n     * @param {string|boolean} [options.crossOrigin] - Is this request cross-origin? Default is to\n     *      determine automatically.\n     * @param {number} [options.timeout=0] - A timeout in milliseconds for the load. If the load takes\n     *      longer than this time it is cancelled and the load is considered a failure. If this value is\n     *      set to `0` then there is no explicit timeout.\n     * @param {PIXI.LoaderResource.LOAD_TYPE} [options.loadType=LOAD_TYPE.XHR] - How should this resource\n     *      be loaded?\n     * @param {PIXI.LoaderResource.XHR_RESPONSE_TYPE} [options.xhrType=XHR_RESPONSE_TYPE.DEFAULT] - How\n     *      should the data being loaded be interpreted when using XHR?\n     * @param {PIXI.LoaderResource.IMetadata} [options.metadata] - Extra configuration for middleware\n     *      and the Resource object.\n     */\n    function LoaderResource(name, url, options) {\n        /**\n         * The `dequeue` method that will be used a storage place for the async queue dequeue method\n         * used privately by the loader.\n         *\n         * @private\n         * @member {function}\n         */\n        this._dequeue = _noop;\n        /**\n         * Used a storage place for the on load binding used privately by the loader.\n         *\n         * @private\n         * @member {function}\n         */\n        this._onLoadBinding = null;\n        /**\n         * The timer for element loads to check if they timeout.\n         *\n         * @private\n         */\n        this._elementTimer = 0;\n        /**\n         * The `complete` function bound to this resource's context.\n         *\n         * @private\n         * @type {function}\n         */\n        this._boundComplete = null;\n        /**\n         * The `_onError` function bound to this resource's context.\n         *\n         * @private\n         * @type {function}\n         */\n        this._boundOnError = null;\n        /**\n         * The `_onProgress` function bound to this resource's context.\n         *\n         * @private\n         * @type {function}\n         */\n        this._boundOnProgress = null;\n        /**\n         * The `_onTimeout` function bound to this resource's context.\n         *\n         * @private\n         * @type {function}\n         */\n        this._boundOnTimeout = null;\n        this._boundXhrOnError = null;\n        this._boundXhrOnTimeout = null;\n        this._boundXhrOnAbort = null;\n        this._boundXhrOnLoad = null;\n        if (typeof name !== 'string' || typeof url !== 'string') {\n            throw new Error('Both name and url are required for constructing a resource.');\n        }\n        options = options || {};\n        this._flags = 0;\n        // set data url flag, needs to be set early for some _determineX checks to work.\n        this._setFlag(LoaderResource.STATUS_FLAGS.DATA_URL, url.indexOf('data:') === 0);\n        this.name = name;\n        this.url = url;\n        this.extension = this._getExtension();\n        this.data = null;\n        this.crossOrigin = options.crossOrigin === true ? 'anonymous' : options.crossOrigin;\n        this.timeout = options.timeout || 0;\n        this.loadType = options.loadType || this._determineLoadType();\n        // The type used to load the resource via XHR. If unset, determined automatically.\n        this.xhrType = options.xhrType;\n        // Extra info for middleware, and controlling specifics about how the resource loads.\n        // Note that if you pass in a `loadElement`, the Resource class takes ownership of it.\n        // Meaning it will modify it as it sees fit.\n        this.metadata = options.metadata || {};\n        // The error that occurred while loading (if any).\n        this.error = null;\n        // The XHR object that was used to load this resource. This is only set\n        // when `loadType` is `LoaderResource.LOAD_TYPE.XHR`.\n        this.xhr = null;\n        // The child resources this resource owns.\n        this.children = [];\n        // The resource type.\n        this.type = LoaderResource.TYPE.UNKNOWN;\n        // The progress chunk owned by this resource.\n        this.progressChunk = 0;\n        // The `dequeue` method that will be used a storage place for the async queue dequeue method\n        // used privately by the loader.\n        this._dequeue = _noop;\n        // Used a storage place for the on load binding used privately by the loader.\n        this._onLoadBinding = null;\n        // The timer for element loads to check if they timeout.\n        this._elementTimer = 0;\n        this._boundComplete = this.complete.bind(this);\n        this._boundOnError = this._onError.bind(this);\n        this._boundOnProgress = this._onProgress.bind(this);\n        this._boundOnTimeout = this._onTimeout.bind(this);\n        // xhr callbacks\n        this._boundXhrOnError = this._xhrOnError.bind(this);\n        this._boundXhrOnTimeout = this._xhrOnTimeout.bind(this);\n        this._boundXhrOnAbort = this._xhrOnAbort.bind(this);\n        this._boundXhrOnLoad = this._xhrOnLoad.bind(this);\n        // Dispatched when the resource beings to load.\n        this.onStart = new Signal();\n        // Dispatched each time progress of this resource load updates.\n        // Not all resources types and loader systems can support this event\n        // so sometimes it may not be available. If the resource\n        // is being loaded on a modern browser, using XHR, and the remote server\n        // properly sets Content-Length headers, then this will be available.\n        this.onProgress = new Signal();\n        // Dispatched once this resource has loaded, if there was an error it will\n        // be in the `error` property.\n        this.onComplete = new Signal();\n        // Dispatched after this resource has had all the *after* middleware run on it.\n        this.onAfterMiddleware = new Signal();\n    }\n    /**\n     * Sets the load type to be used for a specific extension.\n     *\n     * @static\n     * @param {string} extname - The extension to set the type for, e.g. \"png\" or \"fnt\"\n     * @param {PIXI.LoaderResource.LOAD_TYPE} loadType - The load type to set it to.\n     */\n    LoaderResource.setExtensionLoadType = function (extname, loadType) {\n        setExtMap(LoaderResource._loadTypeMap, extname, loadType);\n    };\n    /**\n     * Sets the load type to be used for a specific extension.\n     *\n     * @static\n     * @param {string} extname - The extension to set the type for, e.g. \"png\" or \"fnt\"\n     * @param {PIXI.LoaderResource.XHR_RESPONSE_TYPE} xhrType - The xhr type to set it to.\n     */\n    LoaderResource.setExtensionXhrType = function (extname, xhrType) {\n        setExtMap(LoaderResource._xhrTypeMap, extname, xhrType);\n    };\n    Object.defineProperty(LoaderResource.prototype, \"isDataUrl\", {\n        /**\n         * When the resource starts to load.\n         *\n         * @memberof PIXI.LoaderResource\n         * @callback OnStartSignal\n         * @param {Resource} resource - The resource that the event happened on.\n         */\n        /**\n         * When the resource reports loading progress.\n         *\n         * @memberof PIXI.LoaderResource\n         * @callback OnProgressSignal\n         * @param {Resource} resource - The resource that the event happened on.\n         * @param {number} percentage - The progress of the load in the range [0, 1].\n         */\n        /**\n         * When the resource finishes loading.\n         *\n         * @memberof PIXI.LoaderResource\n         * @callback OnCompleteSignal\n         * @param {Resource} resource - The resource that the event happened on.\n         */\n        /**\n         * @memberof PIXI.LoaderResource\n         * @typedef {object} IMetadata\n         * @property {HTMLImageElement|HTMLAudioElement|HTMLVideoElement} [loadElement=null] - The\n         *      element to use for loading, instead of creating one.\n         * @property {boolean} [skipSource=false] - Skips adding source(s) to the load element. This\n         *      is useful if you want to pass in a `loadElement` that you already added load sources to.\n         * @property {string|string[]} [mimeType] - The mime type to use for the source element\n         *      of a video/audio elment. If the urls are an array, you can pass this as an array as well\n         *      where each index is the mime type to use for the corresponding url index.\n         */\n        /**\n         * Stores whether or not this url is a data url.\n         *\n         * @readonly\n         * @member {boolean}\n         */\n        get: function () {\n            return this._hasFlag(LoaderResource.STATUS_FLAGS.DATA_URL);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(LoaderResource.prototype, \"isComplete\", {\n        /**\n         * Describes if this resource has finished loading. Is true when the resource has completely\n         * loaded.\n         *\n         * @readonly\n         * @member {boolean}\n         */\n        get: function () {\n            return this._hasFlag(LoaderResource.STATUS_FLAGS.COMPLETE);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(LoaderResource.prototype, \"isLoading\", {\n        /**\n         * Describes if this resource is currently loading. Is true when the resource starts loading,\n         * and is false again when complete.\n         *\n         * @readonly\n         * @member {boolean}\n         */\n        get: function () {\n            return this._hasFlag(LoaderResource.STATUS_FLAGS.LOADING);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Marks the resource as complete.\n     *\n     */\n    LoaderResource.prototype.complete = function () {\n        this._clearEvents();\n        this._finish();\n    };\n    /**\n     * Aborts the loading of this resource, with an optional message.\n     *\n     * @param {string} message - The message to use for the error\n     */\n    LoaderResource.prototype.abort = function (message) {\n        // abort can be called multiple times, ignore subsequent calls.\n        if (this.error) {\n            return;\n        }\n        // store error\n        this.error = new Error(message);\n        // clear events before calling aborts\n        this._clearEvents();\n        // abort the actual loading\n        if (this.xhr) {\n            this.xhr.abort();\n        }\n        else if (this.xdr) {\n            this.xdr.abort();\n        }\n        else if (this.data) {\n            // single source\n            if (this.data.src) {\n                this.data.src = LoaderResource.EMPTY_GIF;\n            }\n            // multi-source\n            else {\n                while (this.data.firstChild) {\n                    this.data.removeChild(this.data.firstChild);\n                }\n            }\n        }\n        // done now.\n        this._finish();\n    };\n    /**\n     * Kicks off loading of this resource. This method is asynchronous.\n     *\n     * @param {PIXI.LoaderResource.OnCompleteSignal} [cb] - Optional callback to call once the resource is loaded.\n     */\n    LoaderResource.prototype.load = function (cb) {\n        var _this = this;\n        if (this.isLoading) {\n            return;\n        }\n        if (this.isComplete) {\n            if (cb) {\n                setTimeout(function () { return cb(_this); }, 1);\n            }\n            return;\n        }\n        else if (cb) {\n            this.onComplete.once(cb);\n        }\n        this._setFlag(LoaderResource.STATUS_FLAGS.LOADING, true);\n        this.onStart.dispatch(this);\n        // if unset, determine the value\n        if (this.crossOrigin === false || typeof this.crossOrigin !== 'string') {\n            this.crossOrigin = this._determineCrossOrigin(this.url);\n        }\n        switch (this.loadType) {\n            case LoaderResource.LOAD_TYPE.IMAGE:\n                this.type = LoaderResource.TYPE.IMAGE;\n                this._loadElement('image');\n                break;\n            case LoaderResource.LOAD_TYPE.AUDIO:\n                this.type = LoaderResource.TYPE.AUDIO;\n                this._loadSourceElement('audio');\n                break;\n            case LoaderResource.LOAD_TYPE.VIDEO:\n                this.type = LoaderResource.TYPE.VIDEO;\n                this._loadSourceElement('video');\n                break;\n            case LoaderResource.LOAD_TYPE.XHR:\n            /* falls through */\n            default:\n                if (useXdr && this.crossOrigin) {\n                    this._loadXdr();\n                }\n                else {\n                    this._loadXhr();\n                }\n                break;\n        }\n    };\n    /**\n     * Checks if the flag is set.\n     *\n     * @param flag - The flag to check.\n     * @return True if the flag is set.\n     */\n    LoaderResource.prototype._hasFlag = function (flag) {\n        return (this._flags & flag) !== 0;\n    };\n    /**\n     * (Un)Sets the flag.\n     *\n     * @param flag - The flag to (un)set.\n     * @param value - Whether to set or (un)set the flag.\n     */\n    LoaderResource.prototype._setFlag = function (flag, value) {\n        this._flags = value ? (this._flags | flag) : (this._flags & ~flag);\n    };\n    /**\n     * Clears all the events from the underlying loading source.\n     */\n    LoaderResource.prototype._clearEvents = function () {\n        clearTimeout(this._elementTimer);\n        if (this.data && this.data.removeEventListener) {\n            this.data.removeEventListener('error', this._boundOnError, false);\n            this.data.removeEventListener('load', this._boundComplete, false);\n            this.data.removeEventListener('progress', this._boundOnProgress, false);\n            this.data.removeEventListener('canplaythrough', this._boundComplete, false);\n        }\n        if (this.xhr) {\n            if (this.xhr.removeEventListener) {\n                this.xhr.removeEventListener('error', this._boundXhrOnError, false);\n                this.xhr.removeEventListener('timeout', this._boundXhrOnTimeout, false);\n                this.xhr.removeEventListener('abort', this._boundXhrOnAbort, false);\n                this.xhr.removeEventListener('progress', this._boundOnProgress, false);\n                this.xhr.removeEventListener('load', this._boundXhrOnLoad, false);\n            }\n            else {\n                this.xhr.onerror = null;\n                this.xhr.ontimeout = null;\n                this.xhr.onprogress = null;\n                this.xhr.onload = null;\n            }\n        }\n    };\n    /**\n     * Finalizes the load.\n     */\n    LoaderResource.prototype._finish = function () {\n        if (this.isComplete) {\n            throw new Error('Complete called again for an already completed resource.');\n        }\n        this._setFlag(LoaderResource.STATUS_FLAGS.COMPLETE, true);\n        this._setFlag(LoaderResource.STATUS_FLAGS.LOADING, false);\n        this.onComplete.dispatch(this);\n    };\n    /**\n     * Loads this resources using an element that has a single source,\n     * like an HTMLImageElement.\n     * @private\n     * @param type - The type of element to use.\n     */\n    LoaderResource.prototype._loadElement = function (type) {\n        if (this.metadata.loadElement) {\n            this.data = this.metadata.loadElement;\n        }\n        else if (type === 'image' && typeof self.Image !== 'undefined') {\n            this.data = new Image();\n        }\n        else {\n            this.data = document.createElement(type);\n        }\n        if (this.crossOrigin) {\n            this.data.crossOrigin = this.crossOrigin;\n        }\n        if (!this.metadata.skipSource) {\n            this.data.src = this.url;\n        }\n        this.data.addEventListener('error', this._boundOnError, false);\n        this.data.addEventListener('load', this._boundComplete, false);\n        this.data.addEventListener('progress', this._boundOnProgress, false);\n        if (this.timeout) {\n            this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout);\n        }\n    };\n    /**\n     * Loads this resources using an element that has multiple sources,\n     * like an HTMLAudioElement or HTMLVideoElement.\n     * @param type - The type of element to use.\n     */\n    LoaderResource.prototype._loadSourceElement = function (type) {\n        if (this.metadata.loadElement) {\n            this.data = this.metadata.loadElement;\n        }\n        else if (type === 'audio' && typeof self.Audio !== 'undefined') {\n            this.data = new Audio();\n        }\n        else {\n            this.data = document.createElement(type);\n        }\n        if (this.data === null) {\n            this.abort(\"Unsupported element: \" + type);\n            return;\n        }\n        if (this.crossOrigin) {\n            this.data.crossOrigin = this.crossOrigin;\n        }\n        if (!this.metadata.skipSource) {\n            // support for CocoonJS Canvas+ runtime, lacks document.createElement('source')\n            if (navigator.isCocoonJS) {\n                this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;\n            }\n            else if (Array.isArray(this.url)) {\n                var mimeTypes = this.metadata.mimeType;\n                for (var i = 0; i < this.url.length; ++i) {\n                    this.data.appendChild(this._createSource(type, this.url[i], Array.isArray(mimeTypes) ? mimeTypes[i] : mimeTypes));\n                }\n            }\n            else {\n                var mimeTypes = this.metadata.mimeType;\n                this.data.appendChild(this._createSource(type, this.url, Array.isArray(mimeTypes) ? mimeTypes[0] : mimeTypes));\n            }\n        }\n        this.data.addEventListener('error', this._boundOnError, false);\n        this.data.addEventListener('load', this._boundComplete, false);\n        this.data.addEventListener('progress', this._boundOnProgress, false);\n        this.data.addEventListener('canplaythrough', this._boundComplete, false);\n        this.data.load();\n        if (this.timeout) {\n            this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout);\n        }\n    };\n    /**\n     * Loads this resources using an XMLHttpRequest.\n     */\n    LoaderResource.prototype._loadXhr = function () {\n        // if unset, determine the value\n        if (typeof this.xhrType !== 'string') {\n            this.xhrType = this._determineXhrType();\n        }\n        var xhr = this.xhr = new XMLHttpRequest();\n        // set the request type and url\n        xhr.open('GET', this.url, true);\n        xhr.timeout = this.timeout;\n        // load json as text and parse it ourselves. We do this because some browsers\n        // *cough* safari *cough* can't deal with it.\n        if (this.xhrType === LoaderResource.XHR_RESPONSE_TYPE.JSON\n            || this.xhrType === LoaderResource.XHR_RESPONSE_TYPE.DOCUMENT) {\n            xhr.responseType = LoaderResource.XHR_RESPONSE_TYPE.TEXT;\n        }\n        else {\n            xhr.responseType = this.xhrType;\n        }\n        xhr.addEventListener('error', this._boundXhrOnError, false);\n        xhr.addEventListener('timeout', this._boundXhrOnTimeout, false);\n        xhr.addEventListener('abort', this._boundXhrOnAbort, false);\n        xhr.addEventListener('progress', this._boundOnProgress, false);\n        xhr.addEventListener('load', this._boundXhrOnLoad, false);\n        xhr.send();\n    };\n    /**\n     * Loads this resources using an XDomainRequest. This is here because we need to support IE9 (gross).\n     */\n    LoaderResource.prototype._loadXdr = function () {\n        // if unset, determine the value\n        if (typeof this.xhrType !== 'string') {\n            this.xhrType = this._determineXhrType();\n        }\n        var xdr = this.xhr = new self.XDomainRequest(); // eslint-disable-line no-undef\n        // XDomainRequest has a few quirks. Occasionally it will abort requests\n        // A way to avoid this is to make sure ALL callbacks are set even if not used\n        // More info here: http://stackoverflow.com/questions/15786966/xdomainrequest-aborts-post-on-ie-9\n        xdr.timeout = this.timeout || 5000; // XDR needs a timeout value or it breaks in IE9\n        xdr.onerror = this._boundXhrOnError;\n        xdr.ontimeout = this._boundXhrOnTimeout;\n        xdr.onprogress = this._boundOnProgress;\n        xdr.onload = this._boundXhrOnLoad;\n        xdr.open('GET', this.url, true);\n        // Note: The xdr.send() call is wrapped in a timeout to prevent an\n        // issue with the interface where some requests are lost if multiple\n        // XDomainRequests are being sent at the same time.\n        // Some info here: https://github.com/photonstorm/phaser/issues/1248\n        setTimeout(function () { return xdr.send(); }, 1);\n    };\n    /**\n     * Creates a source used in loading via an element.\n     * @param type - The element type (video or audio).\n     * @param url - The source URL to load from.\n     * @param [mime] - The mime type of the video\n     * @return The source element.\n     */\n    LoaderResource.prototype._createSource = function (type, url, mime) {\n        if (!mime) {\n            mime = type + \"/\" + this._getExtension(url);\n        }\n        var source = document.createElement('source');\n        source.src = url;\n        source.type = mime;\n        return source;\n    };\n    /**\n     * Called if a load errors out.\n     *\n     * @param event - The error event from the element that emits it.\n     */\n    LoaderResource.prototype._onError = function (event) {\n        this.abort(\"Failed to load element using: \" + event.target.nodeName);\n    };\n    /**\n     * Called if a load progress event fires for an element or xhr/xdr.\n     * @param event - Progress event.\n     */\n    LoaderResource.prototype._onProgress = function (event) {\n        if (event && event.lengthComputable) {\n            this.onProgress.dispatch(this, event.loaded / event.total);\n        }\n    };\n    /**\n     * Called if a timeout event fires for an element.\n     */\n    LoaderResource.prototype._onTimeout = function () {\n        this.abort(\"Load timed out.\");\n    };\n    /**\n     * Called if an error event fires for xhr/xdr.\n     */\n    LoaderResource.prototype._xhrOnError = function () {\n        var xhr = this.xhr;\n        this.abort(reqType(xhr) + \" Request failed. Status: \" + xhr.status + \", text: \\\"\" + xhr.statusText + \"\\\"\");\n    };\n    /**\n     * Called if an error event fires for xhr/xdr.\n     */\n    LoaderResource.prototype._xhrOnTimeout = function () {\n        var xhr = this.xhr;\n        this.abort(reqType(xhr) + \" Request timed out.\");\n    };\n    /**\n     * Called if an abort event fires for xhr/xdr.\n     */\n    LoaderResource.prototype._xhrOnAbort = function () {\n        var xhr = this.xhr;\n        this.abort(reqType(xhr) + \" Request was aborted by the user.\");\n    };\n    /**\n     * Called when data successfully loads from an xhr/xdr request.\n     */\n    LoaderResource.prototype._xhrOnLoad = function () {\n        var xhr = this.xhr;\n        var text = '';\n        var status = typeof xhr.status === 'undefined' ? STATUS_OK : xhr.status; // XDR has no `.status`, assume 200.\n        // responseText is accessible only if responseType is '' or 'text' and on older browsers\n        if (xhr.responseType === '' || xhr.responseType === 'text' || typeof xhr.responseType === 'undefined') {\n            text = xhr.responseText;\n        }\n        // status can be 0 when using the `file://` protocol so we also check if a response is set.\n        // If it has a response, we assume 200; otherwise a 0 status code with no contents is an aborted request.\n        if (status === STATUS_NONE && (text.length > 0 || xhr.responseType === LoaderResource.XHR_RESPONSE_TYPE.BUFFER)) {\n            status = STATUS_OK;\n        }\n        // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n        else if (status === STATUS_IE_BUG_EMPTY) {\n            status = STATUS_EMPTY;\n        }\n        var statusType = (status / 100) | 0;\n        if (statusType === STATUS_TYPE_OK) {\n            // if text, just return it\n            if (this.xhrType === LoaderResource.XHR_RESPONSE_TYPE.TEXT) {\n                this.data = text;\n                this.type = LoaderResource.TYPE.TEXT;\n            }\n            // if json, parse into json object\n            else if (this.xhrType === LoaderResource.XHR_RESPONSE_TYPE.JSON) {\n                try {\n                    this.data = JSON.parse(text);\n                    this.type = LoaderResource.TYPE.JSON;\n                }\n                catch (e) {\n                    this.abort(\"Error trying to parse loaded json: \" + e);\n                    return;\n                }\n            }\n            // if xml, parse into an xml document or div element\n            else if (this.xhrType === LoaderResource.XHR_RESPONSE_TYPE.DOCUMENT) {\n                try {\n                    if (self.DOMParser) {\n                        var domparser = new DOMParser();\n                        this.data = domparser.parseFromString(text, 'text/xml');\n                    }\n                    else {\n                        var div = document.createElement('div');\n                        div.innerHTML = text;\n                        this.data = div;\n                    }\n                    this.type = LoaderResource.TYPE.XML;\n                }\n                catch (e$1) {\n                    this.abort(\"Error trying to parse loaded xml: \" + e$1);\n                    return;\n                }\n            }\n            // other types just return the response\n            else {\n                this.data = xhr.response || text;\n            }\n        }\n        else {\n            this.abort(\"[\" + xhr.status + \"] \" + xhr.statusText + \": \" + xhr.responseURL);\n            return;\n        }\n        this.complete();\n    };\n    /**\n     * Sets the `crossOrigin` property for this resource based on if the url\n     * for this resource is cross-origin. If crossOrigin was manually set, this\n     * function does nothing.\n     * @private\n     * @param url - The url to test.\n     * @param [loc=self.location] - The location object to test against.\n     * @return The crossOrigin value to use (or empty string for none).\n     */\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    LoaderResource.prototype._determineCrossOrigin = function (url, loc) {\n        // data: and javascript: urls are considered same-origin\n        if (url.indexOf('data:') === 0) {\n            return '';\n        }\n        // A sandboxed iframe without the 'allow-same-origin' attribute will have a special\n        // origin designed not to match self.location.origin, and will always require\n        // crossOrigin requests regardless of whether the location matches.\n        if (self.origin !== self.location.origin) {\n            return 'anonymous';\n        }\n        // default is self.location\n        loc = loc || self.location;\n        if (!tempAnchor) {\n            tempAnchor = document.createElement('a');\n        }\n        // let the browser determine the full href for the url of this resource and then\n        // parse with the node url lib, we can't use the properties of the anchor element\n        // because they don't work in IE9 :(\n        tempAnchor.href = url;\n        var parsedUrl = parseUri(tempAnchor.href, { strictMode: true });\n        var samePort = (!parsedUrl.port && loc.port === '') || (parsedUrl.port === loc.port);\n        var protocol = parsedUrl.protocol ? parsedUrl.protocol + \":\" : '';\n        // if cross origin\n        if (parsedUrl.host !== loc.hostname || !samePort || protocol !== loc.protocol) {\n            return 'anonymous';\n        }\n        return '';\n    };\n    /**\n     * Determines the responseType of an XHR request based on the extension of the\n     * resource being loaded.\n     *\n     * @private\n     * @return {PIXI.LoaderResource.XHR_RESPONSE_TYPE} The responseType to use.\n     */\n    LoaderResource.prototype._determineXhrType = function () {\n        return LoaderResource._xhrTypeMap[this.extension] || LoaderResource.XHR_RESPONSE_TYPE.TEXT;\n    };\n    /**\n     * Determines the loadType of a resource based on the extension of the\n     * resource being loaded.\n     *\n     * @private\n     * @return {PIXI.LoaderResource.LOAD_TYPE} The loadType to use.\n     */\n    LoaderResource.prototype._determineLoadType = function () {\n        return LoaderResource._loadTypeMap[this.extension] || LoaderResource.LOAD_TYPE.XHR;\n    };\n    /**\n     * Extracts the extension (sans '.') of the file being loaded by the resource.\n     *\n     * @param [url] - url to parse, `this.url` by default.\n     * @return The extension.\n     */\n    LoaderResource.prototype._getExtension = function (url) {\n        if (url === void 0) { url = this.url; }\n        var ext = '';\n        if (this.isDataUrl) {\n            var slashIndex = url.indexOf('/');\n            ext = url.substring(slashIndex + 1, url.indexOf(';', slashIndex));\n        }\n        else {\n            var queryStart = url.indexOf('?');\n            var hashStart = url.indexOf('#');\n            var index = Math.min(queryStart > -1 ? queryStart : url.length, hashStart > -1 ? hashStart : url.length);\n            url = url.substring(0, index);\n            ext = url.substring(url.lastIndexOf('.') + 1);\n        }\n        return ext.toLowerCase();\n    };\n    /**\n     * Determines the mime type of an XHR request based on the responseType of\n     * resource being loaded.\n     *\n     * @param type - The type to get a mime type for.\n     * @private\n     * @return The mime type to use.\n     */\n    LoaderResource.prototype._getMimeFromXhrType = function (type) {\n        switch (type) {\n            case LoaderResource.XHR_RESPONSE_TYPE.BUFFER:\n                return 'application/octet-binary';\n            case LoaderResource.XHR_RESPONSE_TYPE.BLOB:\n                return 'application/blob';\n            case LoaderResource.XHR_RESPONSE_TYPE.DOCUMENT:\n                return 'application/xml';\n            case LoaderResource.XHR_RESPONSE_TYPE.JSON:\n                return 'application/json';\n            case LoaderResource.XHR_RESPONSE_TYPE.DEFAULT:\n            case LoaderResource.XHR_RESPONSE_TYPE.TEXT:\n            /* falls through */\n            default:\n                return 'text/plain';\n        }\n    };\n    return LoaderResource;\n}());\n// eslint-disable-next-line @typescript-eslint/no-namespace\n(function (LoaderResource) {\n    /**\n     * The types of resources a resource could represent.\n     *\n     * @static\n     * @readonly\n     * @enum {number}\n     * @memberof PIXI.LoaderResource\n     */\n    var STATUS_FLAGS;\n    (function (STATUS_FLAGS) {\n        /** None */\n        STATUS_FLAGS[STATUS_FLAGS[\"NONE\"] = 0] = \"NONE\";\n        /** Data URL */\n        STATUS_FLAGS[STATUS_FLAGS[\"DATA_URL\"] = 1] = \"DATA_URL\";\n        /** Complete */\n        STATUS_FLAGS[STATUS_FLAGS[\"COMPLETE\"] = 2] = \"COMPLETE\";\n        /** Loading */\n        STATUS_FLAGS[STATUS_FLAGS[\"LOADING\"] = 4] = \"LOADING\";\n    })(STATUS_FLAGS = LoaderResource.STATUS_FLAGS || (LoaderResource.STATUS_FLAGS = {}));\n    /**\n     * The types of resources a resource could represent.\n     *\n     * @static\n     * @readonly\n     * @enum {number}\n     * @memberof PIXI.LoaderResource\n     */\n    var TYPE;\n    (function (TYPE) {\n        /** Unknown */\n        TYPE[TYPE[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n        /** JSON */\n        TYPE[TYPE[\"JSON\"] = 1] = \"JSON\";\n        /** XML */\n        TYPE[TYPE[\"XML\"] = 2] = \"XML\";\n        /** Image */\n        TYPE[TYPE[\"IMAGE\"] = 3] = \"IMAGE\";\n        /** Audio */\n        TYPE[TYPE[\"AUDIO\"] = 4] = \"AUDIO\";\n        /** Video */\n        TYPE[TYPE[\"VIDEO\"] = 5] = \"VIDEO\";\n        /** Plain text */\n        TYPE[TYPE[\"TEXT\"] = 6] = \"TEXT\";\n    })(TYPE = LoaderResource.TYPE || (LoaderResource.TYPE = {}));\n    /**\n     * The types of loading a resource can use.\n     *\n     * @static\n     * @readonly\n     * @enum {number}\n     * @memberof PIXI.LoaderResource\n     */\n    var LOAD_TYPE;\n    (function (LOAD_TYPE) {\n        /** Uses XMLHttpRequest to load the resource. */\n        LOAD_TYPE[LOAD_TYPE[\"XHR\"] = 1] = \"XHR\";\n        /** Uses an `Image` object to load the resource. */\n        LOAD_TYPE[LOAD_TYPE[\"IMAGE\"] = 2] = \"IMAGE\";\n        /** Uses an `Audio` object to load the resource. */\n        LOAD_TYPE[LOAD_TYPE[\"AUDIO\"] = 3] = \"AUDIO\";\n        /** Uses a `Video` object to load the resource. */\n        LOAD_TYPE[LOAD_TYPE[\"VIDEO\"] = 4] = \"VIDEO\";\n    })(LOAD_TYPE = LoaderResource.LOAD_TYPE || (LoaderResource.LOAD_TYPE = {}));\n    /**\n     * The XHR ready states, used internally.\n     *\n     * @static\n     * @readonly\n     * @enum {string}\n     * @memberof PIXI.LoaderResource\n     */\n    var XHR_RESPONSE_TYPE;\n    (function (XHR_RESPONSE_TYPE) {\n        /** string */\n        XHR_RESPONSE_TYPE[\"DEFAULT\"] = \"text\";\n        /** ArrayBuffer */\n        XHR_RESPONSE_TYPE[\"BUFFER\"] = \"arraybuffer\";\n        /** Blob */\n        XHR_RESPONSE_TYPE[\"BLOB\"] = \"blob\";\n        /** Document */\n        XHR_RESPONSE_TYPE[\"DOCUMENT\"] = \"document\";\n        /** Object */\n        XHR_RESPONSE_TYPE[\"JSON\"] = \"json\";\n        /** String */\n        XHR_RESPONSE_TYPE[\"TEXT\"] = \"text\";\n    })(XHR_RESPONSE_TYPE = LoaderResource.XHR_RESPONSE_TYPE || (LoaderResource.XHR_RESPONSE_TYPE = {}));\n    LoaderResource._loadTypeMap = {\n        // images\n        gif: LoaderResource.LOAD_TYPE.IMAGE,\n        png: LoaderResource.LOAD_TYPE.IMAGE,\n        bmp: LoaderResource.LOAD_TYPE.IMAGE,\n        jpg: LoaderResource.LOAD_TYPE.IMAGE,\n        jpeg: LoaderResource.LOAD_TYPE.IMAGE,\n        tif: LoaderResource.LOAD_TYPE.IMAGE,\n        tiff: LoaderResource.LOAD_TYPE.IMAGE,\n        webp: LoaderResource.LOAD_TYPE.IMAGE,\n        tga: LoaderResource.LOAD_TYPE.IMAGE,\n        svg: LoaderResource.LOAD_TYPE.IMAGE,\n        'svg+xml': LoaderResource.LOAD_TYPE.IMAGE,\n        // audio\n        mp3: LoaderResource.LOAD_TYPE.AUDIO,\n        ogg: LoaderResource.LOAD_TYPE.AUDIO,\n        wav: LoaderResource.LOAD_TYPE.AUDIO,\n        // videos\n        mp4: LoaderResource.LOAD_TYPE.VIDEO,\n        webm: LoaderResource.LOAD_TYPE.VIDEO,\n    };\n    LoaderResource._xhrTypeMap = {\n        // xml\n        xhtml: LoaderResource.XHR_RESPONSE_TYPE.DOCUMENT,\n        html: LoaderResource.XHR_RESPONSE_TYPE.DOCUMENT,\n        htm: LoaderResource.XHR_RESPONSE_TYPE.DOCUMENT,\n        xml: LoaderResource.XHR_RESPONSE_TYPE.DOCUMENT,\n        tmx: LoaderResource.XHR_RESPONSE_TYPE.DOCUMENT,\n        svg: LoaderResource.XHR_RESPONSE_TYPE.DOCUMENT,\n        // This was added to handle Tiled Tileset XML, but .tsx is also a TypeScript React Component.\n        // Since it is way less likely for people to be loading TypeScript files instead of Tiled files,\n        // this should probably be fine.\n        tsx: LoaderResource.XHR_RESPONSE_TYPE.DOCUMENT,\n        // images\n        gif: LoaderResource.XHR_RESPONSE_TYPE.BLOB,\n        png: LoaderResource.XHR_RESPONSE_TYPE.BLOB,\n        bmp: LoaderResource.XHR_RESPONSE_TYPE.BLOB,\n        jpg: LoaderResource.XHR_RESPONSE_TYPE.BLOB,\n        jpeg: LoaderResource.XHR_RESPONSE_TYPE.BLOB,\n        tif: LoaderResource.XHR_RESPONSE_TYPE.BLOB,\n        tiff: LoaderResource.XHR_RESPONSE_TYPE.BLOB,\n        webp: LoaderResource.XHR_RESPONSE_TYPE.BLOB,\n        tga: LoaderResource.XHR_RESPONSE_TYPE.BLOB,\n        // json\n        json: LoaderResource.XHR_RESPONSE_TYPE.JSON,\n        // text\n        text: LoaderResource.XHR_RESPONSE_TYPE.TEXT,\n        txt: LoaderResource.XHR_RESPONSE_TYPE.TEXT,\n        // fonts\n        ttf: LoaderResource.XHR_RESPONSE_TYPE.BUFFER,\n        otf: LoaderResource.XHR_RESPONSE_TYPE.BUFFER,\n    };\n    // We can't set the `src` attribute to empty string, so on abort we set it to this 1px transparent gif\n    LoaderResource.EMPTY_GIF = 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==';\n})(exports.LoaderResource || (exports.LoaderResource = {}));\n\n/**\n * Smaller version of the async library constructs.\n * @ignore\n */\nfunction _noop$1() {\n}\n/**\n * Ensures a function is only called once.\n * @ignore\n * @param {function} fn - The function to wrap.\n * @return {function} The wrapping function.\n */\nfunction onlyOnce(fn) {\n    return function onceWrapper() {\n        var arguments$1 = arguments;\n\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments$1[_i];\n        }\n        if (fn === null) {\n            throw new Error('Callback was already called.');\n        }\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, args);\n    };\n}\n/**\n * @private\n * @memberof PIXI\n */\nvar AsyncQueueItem = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function AsyncQueueItem(data, callback) {\n        this.data = data;\n        this.callback = callback;\n    }\n    return AsyncQueueItem;\n}());\n/**\n * @private\n * @memberof PIXI\n */\nvar AsyncQueue = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function AsyncQueue(worker, concurrency) {\n        var _this = this;\n        if (concurrency === void 0) { concurrency = 1; }\n        this.workers = 0;\n        this.saturated = _noop$1;\n        this.unsaturated = _noop$1;\n        this.empty = _noop$1;\n        this.drain = _noop$1;\n        this.error = _noop$1;\n        this.started = false;\n        this.paused = false;\n        this._tasks = [];\n        this._insert = function (data, insertAtFront, callback) {\n            if (callback && typeof callback !== 'function') {\n                throw new Error('task callback must be a function');\n            }\n            _this.started = true;\n            // eslint-disable-next-line no-eq-null,eqeqeq\n            if (data == null && _this.idle()) {\n                // call drain immediately if there are no tasks\n                setTimeout(function () { return _this.drain(); }, 1);\n                return;\n            }\n            var item = new AsyncQueueItem(data, typeof callback === 'function' ? callback : _noop$1);\n            if (insertAtFront) {\n                _this._tasks.unshift(item);\n            }\n            else {\n                _this._tasks.push(item);\n            }\n            setTimeout(_this.process, 1);\n        };\n        this.process = function () {\n            while (!_this.paused && _this.workers < _this.concurrency && _this._tasks.length) {\n                var task = _this._tasks.shift();\n                if (_this._tasks.length === 0) {\n                    _this.empty();\n                }\n                _this.workers += 1;\n                if (_this.workers === _this.concurrency) {\n                    _this.saturated();\n                }\n                _this._worker(task.data, onlyOnce(_this._next(task)));\n            }\n        };\n        this._worker = worker;\n        if (concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        this.concurrency = concurrency;\n        this.buffer = concurrency / 4.0;\n    }\n    /**\n     * @private\n     */\n    AsyncQueue.prototype._next = function (task) {\n        var _this = this;\n        return function () {\n            var arguments$1 = arguments;\n\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments$1[_i];\n            }\n            _this.workers -= 1;\n            task.callback.apply(task, args);\n            // eslint-disable-next-line no-eq-null,eqeqeq\n            if (args[0] != null) {\n                _this.error(args[0], task.data);\n            }\n            if (_this.workers <= (_this.concurrency - _this.buffer)) {\n                _this.unsaturated();\n            }\n            if (_this.idle()) {\n                _this.drain();\n            }\n            _this.process();\n        };\n    };\n    // That was in object\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    AsyncQueue.prototype.push = function (data, callback) {\n        this._insert(data, false, callback);\n    };\n    AsyncQueue.prototype.kill = function () {\n        this.workers = 0;\n        this.drain = _noop$1;\n        this.started = false;\n        this._tasks = [];\n    };\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    AsyncQueue.prototype.unshift = function (data, callback) {\n        this._insert(data, true, callback);\n    };\n    AsyncQueue.prototype.length = function () {\n        return this._tasks.length;\n    };\n    AsyncQueue.prototype.running = function () {\n        return this.workers;\n    };\n    AsyncQueue.prototype.idle = function () {\n        return this._tasks.length + this.workers === 0;\n    };\n    AsyncQueue.prototype.pause = function () {\n        if (this.paused === true) {\n            return;\n        }\n        this.paused = true;\n    };\n    AsyncQueue.prototype.resume = function () {\n        if (this.paused === false) {\n            return;\n        }\n        this.paused = false;\n        // Need to call this.process once per concurrent\n        // worker to preserve full concurrency after pause\n        for (var w = 1; w <= this.concurrency; w++) {\n            this.process();\n        }\n    };\n    /**\n     * Iterates an array in series.\n     *\n     * @param {Array.<*>} array - Array to iterate.\n     * @param {function} iterator - Function to call for each element.\n     * @param {function} callback - Function to call when done, or on error.\n     * @param {boolean} [deferNext=false] - Break synchronous each loop by calling next with a setTimeout of 1.\n     */\n    AsyncQueue.eachSeries = function (array, iterator, callback, deferNext) {\n        var i = 0;\n        var len = array.length;\n        function next(err) {\n            if (err || i === len) {\n                if (callback) {\n                    callback(err);\n                }\n                return;\n            }\n            if (deferNext) {\n                setTimeout(function () {\n                    iterator(array[i++], next);\n                }, 1);\n            }\n            else {\n                iterator(array[i++], next);\n            }\n        }\n        next();\n    };\n    /**\n     * Async queue implementation,\n     *\n     * @param {function} worker - The worker function to call for each task.\n     * @param {number} concurrency - How many workers to run in parrallel.\n     * @return {*} The async queue object.\n     */\n    AsyncQueue.queue = function (worker, concurrency) {\n        return new AsyncQueue(worker, concurrency);\n    };\n    return AsyncQueue;\n}());\n\n// some constants\nvar MAX_PROGRESS = 100;\nvar rgxExtractUrlHash = /(#[\\w-]+)?$/;\n/**\n * The new loader, forked from Resource Loader by Chad Engler: https://github.com/englercj/resource-loader\n *\n * ```js\n * const loader = PIXI.Loader.shared; // PixiJS exposes a premade instance for you to use.\n * //or\n * const loader = new PIXI.Loader(); // you can also create your own if you want\n *\n * const sprites = {};\n *\n * // Chainable `add` to enqueue a resource\n * loader.add('bunny', 'data/bunny.png')\n *       .add('spaceship', 'assets/spritesheet.json');\n * loader.add('scoreFont', 'assets/score.fnt');\n *\n * // Chainable `pre` to add a middleware that runs for each resource, *before* loading that resource.\n * // This is useful to implement custom caching modules (using filesystem, indexeddb, memory, etc).\n * loader.pre(cachingMiddleware);\n *\n * // Chainable `use` to add a middleware that runs for each resource, *after* loading that resource.\n * // This is useful to implement custom parsing modules (like spritesheet parsers, spine parser, etc).\n * loader.use(parsingMiddleware);\n *\n * // The `load` method loads the queue of resources, and calls the passed in callback called once all\n * // resources have loaded.\n * loader.load((loader, resources) => {\n *     // resources is an object where the key is the name of the resource loaded and the value is the resource object.\n *     // They have a couple default properties:\n *     // - `url`: The URL that the resource was loaded from\n *     // - `error`: The error that happened when trying to load (if any)\n *     // - `data`: The raw data that was loaded\n *     // also may contain other properties based on the middleware that runs.\n *     sprites.bunny = new PIXI.TilingSprite(resources.bunny.texture);\n *     sprites.spaceship = new PIXI.TilingSprite(resources.spaceship.texture);\n *     sprites.scoreFont = new PIXI.TilingSprite(resources.scoreFont.texture);\n * });\n *\n * // throughout the process multiple signals can be dispatched.\n * loader.onProgress.add(() => {}); // called once per loaded/errored file\n * loader.onError.add(() => {}); // called once per errored file\n * loader.onLoad.add(() => {}); // called once per loaded file\n * loader.onComplete.add(() => {}); // called once when the queued resources all load.\n * ```\n *\n * @class Loader\n * @memberof PIXI\n */\nvar Loader = /** @class */ (function () {\n    /**\n     * @param baseUrl - The base url for all resources loaded by this loader.\n     * @param concurrency - The number of resources to load concurrently.\n     */\n    function Loader(baseUrl, concurrency) {\n        var _this = this;\n        if (baseUrl === void 0) { baseUrl = ''; }\n        if (concurrency === void 0) { concurrency = 10; }\n        /**\n         * The middleware to run before loading each resource.\n         */\n        this._beforeMiddleware = [];\n        /**\n         * The middleware to run after loading each resource.\n         */\n        this._afterMiddleware = [];\n        /**\n         * The tracks the resources we are currently completing parsing for.\n         */\n        this._resourcesParsing = [];\n        /**\n         * The `_loadResource` function bound with this object context.\n         *\n         * @private\n         * @member {function}\n         * @param {PIXI.LoaderResource} r - The resource to load\n         * @param {Function} d - The dequeue function\n         * @return {undefined}\n         */\n        this._boundLoadResource = function (r, d) { return _this._loadResource(r, d); };\n        /**\n         * All the resources for this loader keyed by name.\n         *\n         * @member {object<string, PIXI.LoaderResource>}\n         */\n        this.resources = {};\n        this.baseUrl = baseUrl;\n        this.progress = 0;\n        this.loading = false;\n        this.defaultQueryString = '';\n        this._beforeMiddleware = [];\n        this._afterMiddleware = [];\n        this._resourcesParsing = [];\n        this._boundLoadResource = function (r, d) { return _this._loadResource(r, d); };\n        this._queue = AsyncQueue.queue(this._boundLoadResource, concurrency);\n        this._queue.pause();\n        this.resources = {};\n        this.onProgress = new Signal();\n        this.onError = new Signal();\n        this.onLoad = new Signal();\n        this.onStart = new Signal();\n        this.onComplete = new Signal();\n        for (var i = 0; i < Loader._plugins.length; ++i) {\n            var plugin = Loader._plugins[i];\n            var pre = plugin.pre, use = plugin.use;\n            if (pre) {\n                this.pre(pre);\n            }\n            if (use) {\n                this.use(use);\n            }\n        }\n        this._protected = false;\n    }\n    /**\n     * Same as add, params have strict order\n     * @private\n     * @param name - The name of the resource to load.\n     * @param url - The url for this resource, relative to the baseUrl of this loader.\n     * @param options - The options for the load.\n     * @param callback - Function to call when this specific resource completes loading.\n     * @return {this} Returns itself.\n     */\n    Loader.prototype._add = function (name, url, options, callback) {\n        // if loading already you can only add resources that have a parent.\n        if (this.loading && (!options || !options.parentResource)) {\n            throw new Error('Cannot add resources while the loader is running.');\n        }\n        // check if resource already exists.\n        if (this.resources[name]) {\n            throw new Error(\"Resource named \\\"\" + name + \"\\\" already exists.\");\n        }\n        // add base url if this isn't an absolute url\n        url = this._prepareUrl(url);\n        // create the store the resource\n        this.resources[name] = new exports.LoaderResource(name, url, options);\n        if (typeof callback === 'function') {\n            this.resources[name].onAfterMiddleware.once(callback);\n        }\n        // if actively loading, make sure to adjust progress chunks for that parent and its children\n        if (this.loading) {\n            var parent = options.parentResource;\n            var incompleteChildren = [];\n            for (var i = 0; i < parent.children.length; ++i) {\n                if (!parent.children[i].isComplete) {\n                    incompleteChildren.push(parent.children[i]);\n                }\n            }\n            var fullChunk = parent.progressChunk * (incompleteChildren.length + 1); // +1 for parent\n            var eachChunk = fullChunk / (incompleteChildren.length + 2); // +2 for parent & new child\n            parent.children.push(this.resources[name]);\n            parent.progressChunk = eachChunk;\n            for (var i = 0; i < incompleteChildren.length; ++i) {\n                incompleteChildren[i].progressChunk = eachChunk;\n            }\n            this.resources[name].progressChunk = eachChunk;\n        }\n        // add the resource to the queue\n        this._queue.push(this.resources[name]);\n        return this;\n    };\n    /* eslint-enable require-jsdoc,valid-jsdoc */\n    /**\n     * Sets up a middleware function that will run *before* the\n     * resource is loaded.\n     *\n     * @param fn - The middleware function to register.\n     * @return Returns itself.\n     */\n    Loader.prototype.pre = function (fn) {\n        this._beforeMiddleware.push(fn);\n        return this;\n    };\n    /**\n     * Sets up a middleware function that will run *after* the\n     * resource is loaded.\n     *\n     * @param fn - The middleware function to register.\n     * @return Returns itself.\n     */\n    Loader.prototype.use = function (fn) {\n        this._afterMiddleware.push(fn);\n        return this;\n    };\n    /**\n     * Resets the queue of the loader to prepare for a new load.\n     *\n     * @return Returns itself.\n     */\n    Loader.prototype.reset = function () {\n        this.progress = 0;\n        this.loading = false;\n        this._queue.kill();\n        this._queue.pause();\n        // abort all resource loads\n        for (var k in this.resources) {\n            var res = this.resources[k];\n            if (res._onLoadBinding) {\n                res._onLoadBinding.detach();\n            }\n            if (res.isLoading) {\n                res.abort('loader reset');\n            }\n        }\n        this.resources = {};\n        return this;\n    };\n    /**\n     * Starts loading the queued resources.\n     * @param [cb] - Optional callback that will be bound to the `complete` event.\n     * @return Returns itself.\n     */\n    Loader.prototype.load = function (cb) {\n        // register complete callback if they pass one\n        if (typeof cb === 'function') {\n            this.onComplete.once(cb);\n        }\n        // if the queue has already started we are done here\n        if (this.loading) {\n            return this;\n        }\n        if (this._queue.idle()) {\n            this._onStart();\n            this._onComplete();\n        }\n        else {\n            // distribute progress chunks\n            var numTasks = this._queue._tasks.length;\n            var chunk = MAX_PROGRESS / numTasks;\n            for (var i = 0; i < this._queue._tasks.length; ++i) {\n                this._queue._tasks[i].data.progressChunk = chunk;\n            }\n            // notify we are starting\n            this._onStart();\n            // start loading\n            this._queue.resume();\n        }\n        return this;\n    };\n    Object.defineProperty(Loader.prototype, \"concurrency\", {\n        /**\n         * The number of resources to load concurrently.\n         *\n         * @member {number}\n         * @default 10\n         */\n        get: function () {\n            return this._queue.concurrency;\n        },\n        // eslint-disable-next-line require-jsdoc\n        set: function (concurrency) {\n            this._queue.concurrency = concurrency;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Prepares a url for usage based on the configuration of this object\n     * @param url - The url to prepare.\n     * @return The prepared url.\n     */\n    Loader.prototype._prepareUrl = function (url) {\n        var parsedUrl = parseUri(url, { strictMode: true });\n        var result;\n        // absolute url, just use it as is.\n        if (parsedUrl.protocol || !parsedUrl.path || url.indexOf('//') === 0) {\n            result = url;\n        }\n        // if baseUrl doesn't end in slash and url doesn't start with slash, then add a slash inbetween\n        else if (this.baseUrl.length\n            && this.baseUrl.lastIndexOf('/') !== this.baseUrl.length - 1\n            && url.charAt(0) !== '/') {\n            result = this.baseUrl + \"/\" + url;\n        }\n        else {\n            result = this.baseUrl + url;\n        }\n        // if we need to add a default querystring, there is a bit more work\n        if (this.defaultQueryString) {\n            var hash = rgxExtractUrlHash.exec(result)[0];\n            result = result.substr(0, result.length - hash.length);\n            if (result.indexOf('?') !== -1) {\n                result += \"&\" + this.defaultQueryString;\n            }\n            else {\n                result += \"?\" + this.defaultQueryString;\n            }\n            result += hash;\n        }\n        return result;\n    };\n    /**\n     * Loads a single resource.\n     *\n     * @private\n     * @param {PIXI.LoaderResource} resource - The resource to load.\n     * @param {function} dequeue - The function to call when we need to dequeue this item.\n     */\n    Loader.prototype._loadResource = function (resource, dequeue) {\n        var _this = this;\n        resource._dequeue = dequeue;\n        // run before middleware\n        AsyncQueue.eachSeries(this._beforeMiddleware, function (fn, next) {\n            fn.call(_this, resource, function () {\n                // if the before middleware marks the resource as complete,\n                // break and don't process any more before middleware\n                next(resource.isComplete ? {} : null);\n            });\n        }, function () {\n            if (resource.isComplete) {\n                _this._onLoad(resource);\n            }\n            else {\n                resource._onLoadBinding = resource.onComplete.once(_this._onLoad, _this);\n                resource.load();\n            }\n        }, true);\n    };\n    /**\n     * Called once loading has started.\n     */\n    Loader.prototype._onStart = function () {\n        this.progress = 0;\n        this.loading = true;\n        this.onStart.dispatch(this);\n    };\n    /**\n     * Called once each resource has loaded.\n     */\n    Loader.prototype._onComplete = function () {\n        this.progress = MAX_PROGRESS;\n        this.loading = false;\n        this.onComplete.dispatch(this, this.resources);\n    };\n    /**\n     * Called each time a resources is loaded.\n     * @param resource - The resource that was loaded\n     */\n    Loader.prototype._onLoad = function (resource) {\n        var _this = this;\n        resource._onLoadBinding = null;\n        // remove this resource from the async queue, and add it to our list of resources that are being parsed\n        this._resourcesParsing.push(resource);\n        resource._dequeue();\n        // run all the after middleware for this resource\n        AsyncQueue.eachSeries(this._afterMiddleware, function (fn, next) {\n            fn.call(_this, resource, next);\n        }, function () {\n            resource.onAfterMiddleware.dispatch(resource);\n            _this.progress = Math.min(MAX_PROGRESS, _this.progress + resource.progressChunk);\n            _this.onProgress.dispatch(_this, resource);\n            if (resource.error) {\n                _this.onError.dispatch(resource.error, _this, resource);\n            }\n            else {\n                _this.onLoad.dispatch(_this, resource);\n            }\n            _this._resourcesParsing.splice(_this._resourcesParsing.indexOf(resource), 1);\n            // do completion check\n            if (_this._queue.idle() && _this._resourcesParsing.length === 0) {\n                _this._onComplete();\n            }\n        }, true);\n    };\n    /**\n     * Destroy the loader, removes references.\n     */\n    Loader.prototype.destroy = function () {\n        if (!this._protected) {\n            this.reset();\n        }\n    };\n    Object.defineProperty(Loader, \"shared\", {\n        /**\n         * A premade instance of the loader that can be used to load resources.\n         */\n        get: function () {\n            var shared = Loader._shared;\n            if (!shared) {\n                shared = new Loader();\n                shared._protected = true;\n                Loader._shared = shared;\n            }\n            return shared;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Adds a Loader plugin for the global shared loader and all\n     * new Loader instances created.\n     *\n     * @param plugin - The plugin to add\n     * @return Reference to PIXI.Loader for chaining\n     */\n    Loader.registerPlugin = function (plugin) {\n        Loader._plugins.push(plugin);\n        if (plugin.add) {\n            plugin.add();\n        }\n        return Loader;\n    };\n    Loader._plugins = [];\n    return Loader;\n}());\nLoader.prototype.add = function add(name, url, options, callback) {\n    // special case of an array of objects or urls\n    if (Array.isArray(name)) {\n        for (var i = 0; i < name.length; ++i) {\n            this.add(name[i]);\n        }\n        return this;\n    }\n    // if an object is passed instead of params\n    if (typeof name === 'object') {\n        options = name;\n        callback = url || options.callback || options.onComplete;\n        url = options.url;\n        name = options.name || options.key || options.url;\n    }\n    // case where no name is passed shift all args over by one.\n    if (typeof url !== 'string') {\n        callback = options;\n        options = url;\n        url = name;\n    }\n    // now that we shifted make sure we have a proper url.\n    if (typeof url !== 'string') {\n        throw new Error('No url passed to add resource to loader.');\n    }\n    // options are optional so people might pass a function and no options\n    if (typeof options === 'function') {\n        callback = options;\n        options = null;\n    }\n    return this._add(name, url, options, callback);\n};\n\n/**\n * Application plugin for supporting loader option. Installing the LoaderPlugin\n * is not necessary if using **pixi.js** or **pixi.js-legacy**.\n * @example\n * import {AppLoaderPlugin} from '@pixi/loaders';\n * import {Application} from '@pixi/app';\n * Application.registerPlugin(AppLoaderPlugin);\n * @class\n * @memberof PIXI\n */\nvar AppLoaderPlugin = /** @class */ (function () {\n    function AppLoaderPlugin() {\n    }\n    /**\n     * Called on application constructor\n     * @param {object} options\n     * @private\n     */\n    AppLoaderPlugin.init = function (options) {\n        options = Object.assign({\n            sharedLoader: false,\n        }, options);\n        /**\n         * Loader instance to help with asset loading.\n         * @memberof PIXI.Application#\n         * @type {PIXI.Loader}\n         * @readonly\n         */\n        this.loader = options.sharedLoader ? Loader.shared : new Loader();\n    };\n    /**\n     * Called when application destroyed\n     *\n     * @private\n     */\n    AppLoaderPlugin.destroy = function () {\n        if (this.loader) {\n            this.loader.destroy();\n            this.loader = null;\n        }\n    };\n    return AppLoaderPlugin;\n}());\n\n/**\n * Loader plugin for handling Texture resources.\n *\n * @memberof PIXI\n */\nvar TextureLoader = /** @class */ (function () {\n    function TextureLoader() {\n    }\n    /**\n     * Handle SVG elements a text, render with SVGResource.\n     */\n    TextureLoader.add = function () {\n        exports.LoaderResource.setExtensionLoadType('svg', exports.LoaderResource.LOAD_TYPE.XHR);\n        exports.LoaderResource.setExtensionXhrType('svg', exports.LoaderResource.XHR_RESPONSE_TYPE.TEXT);\n    };\n    /**\n     * Called after a resource is loaded.\n     * @see PIXI.Loader.loaderMiddleware\n     * @param resource\n     * @param {function} next\n     */\n    TextureLoader.use = function (resource, next) {\n        // create a new texture if the data is an Image object\n        if (resource.data && (resource.type === exports.LoaderResource.TYPE.IMAGE || resource.extension === 'svg')) {\n            var data = resource.data, url = resource.url, name = resource.name, metadata = resource.metadata;\n            core.Texture.fromLoader(data, url, name, metadata).then(function (texture) {\n                resource.texture = texture;\n                next();\n            })\n                // TODO: handle errors in Texture.fromLoader\n                // so we can pass them to the Loader\n                .catch(next);\n        }\n        else {\n            next();\n        }\n    };\n    return TextureLoader;\n}());\n\nvar _keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n/**\n * Encodes binary into base64.\n *\n * @function encodeBinary\n * @param {string} input - The input data to encode.\n * @returns {string} The encoded base64 string\n */\nfunction encodeBinary(input) {\n    var output = '';\n    var inx = 0;\n    while (inx < input.length) {\n        // Fill byte buffer array\n        var bytebuffer = [0, 0, 0];\n        var encodedCharIndexes = [0, 0, 0, 0];\n        for (var jnx = 0; jnx < bytebuffer.length; ++jnx) {\n            if (inx < input.length) {\n                // throw away high-order byte, as documented at:\n                // https://developer.mozilla.org/En/Using_XMLHttpRequest#Handling_binary_data\n                bytebuffer[jnx] = input.charCodeAt(inx++) & 0xff;\n            }\n            else {\n                bytebuffer[jnx] = 0;\n            }\n        }\n        // Get each encoded character, 6 bits at a time\n        // index 1: first 6 bits\n        encodedCharIndexes[0] = bytebuffer[0] >> 2;\n        // index 2: second 6 bits (2 least significant bits from input byte 1 + 4 most significant bits from byte 2)\n        encodedCharIndexes[1] = ((bytebuffer[0] & 0x3) << 4) | (bytebuffer[1] >> 4);\n        // index 3: third 6 bits (4 least significant bits from input byte 2 + 2 most significant bits from byte 3)\n        encodedCharIndexes[2] = ((bytebuffer[1] & 0x0f) << 2) | (bytebuffer[2] >> 6);\n        // index 3: forth 6 bits (6 least significant bits from input byte 3)\n        encodedCharIndexes[3] = bytebuffer[2] & 0x3f;\n        // Determine whether padding happened, and adjust accordingly\n        var paddingBytes = inx - (input.length - 1);\n        switch (paddingBytes) {\n            case 2:\n                // Set last 2 characters to padding char\n                encodedCharIndexes[3] = 64;\n                encodedCharIndexes[2] = 64;\n                break;\n            case 1:\n                // Set last character to padding char\n                encodedCharIndexes[3] = 64;\n                break;\n        }\n        // Now we will grab each appropriate character out of our keystring\n        // based on our index array and append it to the output string\n        for (var jnx = 0; jnx < encodedCharIndexes.length; ++jnx) {\n            output += _keyStr.charAt(encodedCharIndexes[jnx]);\n        }\n    }\n    return output;\n}\n\nvar Url = self.URL || self.webkitURL;\n/**\n * A middleware for transforming XHR loaded Blobs into more useful objects\n *\n * @ignore\n * @function parsing\n * @example\n * import { Loader, middleware } from 'resource-loader';\n * const loader = new Loader();\n * loader.use(middleware.parsing);\n * @param resource - Current Resource\n * @param next - Callback when complete\n */\nfunction parsing(resource, next) {\n    if (!resource.data) {\n        next();\n        return;\n    }\n    // if this was an XHR load of a blob\n    if (resource.xhr && resource.xhrType === exports.LoaderResource.XHR_RESPONSE_TYPE.BLOB) {\n        // if there is no blob support we probably got a binary string back\n        if (!self.Blob || typeof resource.data === 'string') {\n            var type = resource.xhr.getResponseHeader('content-type');\n            // this is an image, convert the binary string into a data url\n            if (type && type.indexOf('image') === 0) {\n                resource.data = new Image();\n                resource.data.src = \"data:\" + type + \";base64,\" + encodeBinary(resource.xhr.responseText);\n                resource.type = exports.LoaderResource.TYPE.IMAGE;\n                // wait until the image loads and then callback\n                resource.data.onload = function () {\n                    resource.data.onload = null;\n                    next();\n                };\n                // next will be called on load\n                return;\n            }\n        }\n        // if content type says this is an image, then we should transform the blob into an Image object\n        else if (resource.data.type.indexOf('image') === 0) {\n            var src_1 = Url.createObjectURL(resource.data);\n            resource.blob = resource.data;\n            resource.data = new Image();\n            resource.data.src = src_1;\n            resource.type = exports.LoaderResource.TYPE.IMAGE;\n            // cleanup the no longer used blob after the image loads\n            // TODO: Is this correct? Will the image be invalid after revoking?\n            resource.data.onload = function () {\n                Url.revokeObjectURL(src_1);\n                resource.data.onload = null;\n                next();\n            };\n            // next will be called on load.\n            return;\n        }\n    }\n    next();\n}\n\n// parse any blob into more usable objects (e.g. Image)\nLoader.registerPlugin({ use: parsing });\n// parse any Image objects into textures\nLoader.registerPlugin(TextureLoader);\n\nexports.AppLoaderPlugin = AppLoaderPlugin;\nexports.Loader = Loader;\nexports.TextureLoader = TextureLoader;\n//# sourceMappingURL=loaders.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","_addSignalBinding","self","node","_head","_tail","_next","_prev","_owner","parseUri","str","opts","m","parser","strict","loose","strictMode","exec","uri","i","key","name","replace","_t0","t1","t2","_noop","setExtMap","map","extname","val","indexOf","substring","reqType","xhr","toString","_noop$1","onlyOnce","fn","onceWrapper","arguments$1","arguments","args","_i","length","Error","callFn","apply","encodeBinary","input","output","inx","bytebuffer","encodedCharIndexes","jnx","charCodeAt","_keyStr","charAt","Object","defineProperty","value","core","SignalBinding","once","thisArg","_fn","_once","_thisArg","prototype","detach","SignalBinding.prototype.detach","Signal","undefined","handlers","Signal.prototype.handlers","exists","ee","push","has","Signal.prototype.has","dispatch","Signal.prototype.dispatch","add","Signal.prototype.add","Signal.prototype.once","Signal.prototype.detach","detachAll","Signal.prototype.detachAll","useXdr","XDomainRequest","XMLHttpRequest","tempAnchor","LoaderResource","url","options","_dequeue","_onLoadBinding","_elementTimer","_boundXhrOnLoad","_boundXhrOnAbort","_boundXhrOnTimeout","_boundXhrOnError","_boundOnTimeout","_boundOnProgress","_boundOnError","_boundComplete","_flags","_setFlag","STATUS_FLAGS","DATA_URL","extension","_getExtension","data","crossOrigin","timeout","loadType","_determineLoadType","xhrType","metadata","error","children","type","TYPE","UNKNOWN","progressChunk","complete","bind","_onError","_onProgress","_onTimeout","_xhrOnError","_xhrOnTimeout","_xhrOnAbort","_xhrOnLoad","onStart","onProgress","onComplete","onAfterMiddleware","setExtensionLoadType","LoaderResource.setExtensionLoadType","_loadTypeMap","setExtensionXhrType","LoaderResource.setExtensionXhrType","_xhrTypeMap","get","_hasFlag","enumerable","configurable","COMPLETE","LOADING","LoaderResource.prototype.complete","_clearEvents","_finish","abort","LoaderResource.prototype.abort","message","xdr","src","EMPTY_GIF","firstChild","removeChild","load","LoaderResource.prototype.load","cb","_this","isLoading","isComplete","setTimeout","_determineCrossOrigin","LOAD_TYPE","IMAGE","_loadElement","AUDIO","_loadSourceElement","VIDEO","_loadXdr","_loadXhr","LoaderResource.prototype._hasFlag","flag","LoaderResource.prototype._setFlag","LoaderResource.prototype._clearEvents","clearTimeout","removeEventListener","onerror","ontimeout","onprogress","onload","LoaderResource.prototype._finish","LoaderResource.prototype._loadElement","loadElement","Image","document","createElement","skipSource","addEventListener","LoaderResource.prototype._loadSourceElement","Audio","navigator","isCocoonJS","Array","isArray","mimeTypes","mimeType","appendChild","_createSource","LoaderResource.prototype._loadXhr","_determineXhrType","open","responseType","XHR_RESPONSE_TYPE","JSON","DOCUMENT","TEXT","send","LoaderResource.prototype._loadXdr","LoaderResource.prototype._createSource","mime","source","LoaderResource.prototype._onError","event","target","nodeName","LoaderResource.prototype._onProgress","lengthComputable","loaded","total","LoaderResource.prototype._onTimeout","LoaderResource.prototype._xhrOnError","status","statusText","LoaderResource.prototype._xhrOnTimeout","LoaderResource.prototype._xhrOnAbort","LoaderResource.prototype._xhrOnLoad","text","STATUS_OK","responseText","STATUS_NONE","BUFFER","STATUS_IE_BUG_EMPTY","STATUS_EMPTY","STATUS_TYPE_OK","parse","e","DOMParser","domparser","parseFromString","div","innerHTML","XML","e$1","response","responseURL","LoaderResource.prototype._determineCrossOrigin","loc","origin","location","href","parsedUrl","samePort","port","protocol","host","hostname","LoaderResource.prototype._determineXhrType","LoaderResource.prototype._determineLoadType","XHR","LoaderResource.prototype._getExtension","isDataUrl","slashIndex","ext","queryStart","hashStart","Math","index","min","lastIndexOf","toLowerCase","_getMimeFromXhrType","LoaderResource.prototype._getMimeFromXhrType","BLOB","gif","png","bmp","jpg","jpeg","tif","tiff","webp","tga","svg","mp3","ogg","wav","mp4","webm","xhtml","html","htm","xml","tmx","tsx","json","txt","ttf","otf","AsyncQueueItem","callback","AsyncQueue","worker","concurrency","workers","drain","empty","unsaturated","saturated","paused","started","_tasks","_insert","this._insert","insertAtFront","idle","item","unshift","process","this.process","task","shift","_worker","buffer","AsyncQueue.prototype._next","AsyncQueue.prototype.push","kill","AsyncQueue.prototype.kill","AsyncQueue.prototype.unshift","AsyncQueue.prototype.length","running","AsyncQueue.prototype.running","AsyncQueue.prototype.idle","pause","AsyncQueue.prototype.pause","resume","AsyncQueue.prototype.resume","w","eachSeries","AsyncQueue.eachSeries","array","iterator","deferNext","next","err","len","queue","AsyncQueue.queue","rgxExtractUrlHash","Loader","baseUrl","_beforeMiddleware","_afterMiddleware","_resourcesParsing","_boundLoadResource","this._boundLoadResource","r","d","_loadResource","resources","progress","loading","defaultQueryString","_queue","onError","onLoad","_plugins","plugin","pre","use","_protected","_add","Loader.prototype._add","parentResource","_prepareUrl","parent","incompleteChildren","eachChunk","Loader.prototype.pre","Loader.prototype.use","reset","Loader.prototype.reset","k","res","Loader.prototype.load","_onStart","_onComplete","chunk","MAX_PROGRESS","set","Loader.prototype._prepareUrl","result","path","hash","substr","Loader.prototype._loadResource","resource","dequeue","call","_onLoad","Loader.prototype._onStart","Loader.prototype._onComplete","Loader.prototype._onLoad","splice","destroy","Loader.prototype.destroy","shared","_shared","registerPlugin","Loader.registerPlugin","Loader.prototype.add","AppLoaderPlugin","init","AppLoaderPlugin.init","assign","sharedLoader","loader","AppLoaderPlugin.destroy","TextureLoader","TextureLoader.add","TextureLoader.use","Texture","fromLoader","then","texture","catch","Url","URL","webkitURL","parsing","Blob","getResponseHeader","resource.data.onload","src_1","createObjectURL","blob","revokeObjectURL"]
}
